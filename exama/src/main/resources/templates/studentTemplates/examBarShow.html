<html lang="DE" xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head th:include="fragments/head :: head"></head>

<body>
    <div id="wrapper">
        <!-- header with navigation (only desktop and tablet), title and logout-button -->
        <div th:include="fragments/header :: header"></div>

        <div th:include="fragments/coursenavigation :: coursenavigation"></div>

        <!-- content displayed in the center of the window -->
        <div id="content-wrapper">
            <h1>Das sind deine Prüfungen in der gewählten Woche</h1>
            <a href="/examBar/selectDate">> neues Datum auswählen</a><br><br>

            <table>
                <thead>
                    <tr>
                        <th>Prüfungs ID</th>
                        <th>Name der Prüfung</th>
                        <th>Prüfungsdatum / Deaadline</th>
                        <th>Faktor</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="exam : ${liste}">
                        <td th:text="${exam.Id}"></td>
                        <td th:text="${exam.name}"></td>
                        <td th:text="${exam.date}"></td>
                        <td th:text="${exam.countingFactor}"></td>


                        
                        <!-- <td><a th:href="@{/workloads/{id}/edit(id=${workload.id})}">bearbeiten</a></td>
                        <td><a th:href="@{/workloads/{id}/delete(id=${workload.id})}">löschen</a></td> -->
                        <!-- </a> -->
                    </tr>
                </tbody>
            </table>

            <h3 data-th-text="${msg}" />
            <h3 data-th-text="${anzpr}" />
             <h3 data-th-text="${msg2}" />
             <h3 data-th-text="${xFactor}" />

<script>
window.onload = function () {

var chart = new CanvasJS.Chart("chartContainer", {
	animationEnabled: true,
	theme: "light2", //"light1", "dark1", "dark2"
	title:{
        text: "Du hast " + "[[${Datum}]]" + " gewählt, und dies ist dein ExamBar"             
	},
	axisY:{
		interval: 25,
		suffix: "%"
	},
	toolTip:{
		shared: true
	},
	data:[{
		type: "stackedBar100",
		toolTipContent: "{label}<br><b>{name}:</b> {y} (#percent%)",
		showInLegend: true, 
		name: "Besetzt",
		dataPoints: [
			{ y: [[${xFactor}]], label: "Deine Woche, Socke!" }
		]
		},
		
		{
			type: "stackedBar100",
			toolTipContent: "<b>{name}:</b> {y} (#percent%)",
			showInLegend: true, 
			name: "Frei",
			dataPoints: [
				{ y: 10-[[${xFactor}]], label: "Woche ab: " + "[[${Montag}]]" }

			]
	}]
});
chart.render();

}
</script>
</head>
<body>
<div id="chartContainer" style="height: 300px; max-width: 920px; margin: 0px auto;"></div>
<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>

        <!-- footer with navigation (only mobile) -->
        <div th:include="fragments/footer :: footer"></div>

</div>
        
</body>

</html>